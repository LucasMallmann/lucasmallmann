---
title: 'Coffee By Benjamin'
publishedAt: '2019-02-10'
summary: "An archived verison of Lucas Mallmann's newsletter â€“ subscribe to get early access."
image: '/static/images/banner.jpg'
tags: ['blog', 'javascript', 'programming']
---

Coffee by Benjamin is a React Application built for a self roasting coffee kit. I built this project from scratch alongside a designer with React, GraphQL, and Shopify. This e-commerce application required a lot of heavy lifting to create a universal cart and overall shopping experience as well as introduce the product and include support pages.

<a
  className="block cursor-pointer no-underline bg-purple-500 w-full text-gray-100 text-base font-semibold px-6 py-2 rounded-lg mt-4 md:w-56 hover:bg-purple-600 transition-color duration-200 text-center"
  href="#"
  style={{
    textDecoration: 'none',
  }}
>
  <span className="text-gray-100 no-underline">Live Demo</span>
</a>

<MotionFigure
  className="relative w-full h-64 mt-8 md:h-post-thumbnail cursor-pointer"
  layoutId="image"
  whileHover={{ scale: 1.05 }}
>
  <Image
    alt="Primeiro projeto"
    src="/static/projects/nuts.jpg"
    layout="fill"
    objectFit="cover"
    priority
  />
</MotionFigure>

## Project Purpose and Goal

This project included 3 phases and iterations of the site. Phase 1 simply allowed users to enter their email to be alerted to when the product was released. Phase 2 was quite larger and is designed to introduce users to the Coffee By Benjamin product and answer any questions they may have. Phase three is by far the largest and most complex, as it includes the full shop and cart pages as well as the logic and backend that goes along with it.

I found that the best way to implement these 3 phases without having separate versions saved was to incorporate a feature flag that will pass the current state that should be displayed and then render content conditionally.

## WebStack Explanation

Libraries like `emotion` and `styled-system` require runtime JavaScript to compute styles and generate class names. That doesn't mean you can't use [CSS-in-JS](https://github.com/callstack/linaria) [correctly](https://github.com/ben-rogerson/twin.macro). But I'd argue using "plain" CSS helps you fall into the [pit of success](https://blog.codinghorror.com/falling-into-the-pit-of-success/) ([CSS Modules](https://nextjs.org/docs/basic-features/built-in-css-support), Tailwind, etc) more easily.

There is no correct answer. Each has their own tradeoffs. For my simple site, I choose the performance tradeoff. I was able to reduce the [number of assets downloaded](https://nextjs.org/docs/api-reference/cli#build) **by 43%**.

- ðŸ“¦ Before â†’ `~150kb` First Load JS
- ðŸ“ˆ After â†’ `~85kb` First Load JS

This change, paired with `next/image`, has my [Vercel Analytics](https://vercel.com/docs/analytics) looking incredible. Zero CLS.

<h2>Prototyping and testing</h2>
<Image
  alt="Mountains"
  src="/static/projects/ecommerce.jpg"
  layout="responsive"
  width={950}
  height={650}
/>

<div>
  <Image
    src="/static/projects/feedz.png"
    alt=""
    layout="responsive"
    width={2880}
    height={3300}
  />
</div>
<section className="mt-8">
  <Image
    alt="Primeiro projeto"
    src="/static/projects/print-ecommerce.webp"
    width={800}
    height={560}
    priority
  />
</section>

## Problems and Thought Process

[Last year](/blog/mdx), I switched from using `@next/mdx` to `next-mdx-enhanced` mostly for front matter and layout support. These are now both [solved problems](https://nextjs.org/blog/markdown). Given that [next-mdx-enhanced](https://github.com/hashicorp/next-mdx-enhanced) will likely be deprecated soon (see below) I wanted to explore [next-mdx-remote](https://github.com/hashicorp/next-mdx-remote).

<Image
  alt="Primeiro projeto"
  src="/static/projects/dash.png"
  width={800}
  height={560}
  priority
/>
